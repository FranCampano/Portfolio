<section id="projects" class="bg-black p-6 rounded-lg shadow-md text-white text-center">
  <h2 class="text-2xl font-bold mb-6">Proyectos</h2>

  <section class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 p-6">
    @for (project of projects; track project.title) {
    <div class="bg-gray-900 rounded-xl shadow-lg flex flex-col border-2 border-transparent 
      hover:border-white hover:shadow-2xl hover:scale-[1.02] transition-all duration-300"
      style="box-shadow: 0 0 5px #b06af1, 0 0 10px #b06af1;"
      onmouseenter="this.style.boxShadow='0 0 10px #b06af1, 0 0 20px #b06af1'"
      onmouseleave="this.style.boxShadow='0 0 5px #b06af1, 0 0 10px #b06af1'">

      <!-- Video si showVideo es true -->
      <iframe *ngIf="project.showVideo && project.videoUrl" [src]="project.videoUrl! | safeUrl"
        class="w-full h-48 sm:h-56 lg:h-64 rounded-lg" frameborder="0"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
        allowfullscreen>
      </iframe>

      <!-- Imagen si showVideo es false -->
      <img *ngIf="!project.showVideo" [src]="project.imageUrl" [alt]="project.title"
        class="w-full h-48 sm:h-56 lg:h-64 object-contain" />

      <!-- Contenido -->
      <div class="p-4 flex flex-col flex-1">
        <h3 class="text-lg sm:text-xl font-medium mb-2">
          {{ project.title }}
        </h3>
        <p class="text-sm sm:text-base flex-1">
          {{ project.description }}
        </p>
        <div class="flex flex-row justify-center">
          <!-- Botón para cerrar el video -->
          <button *ngIf="project.showVideo && project.videoUrl" (click)="project.showVideo = false"
            class="mt-4 mx-6 text-red-500 hover:text-red-800 font-medium">
            Cerrar </button>

          <!-- Botón para mostrar el video -->
          <button *ngIf="project.videoUrl && !project.showVideo" (click)="project.showVideo = true"
            class="mt-4 mr-4 text-purple-400 hover:text-white font-medium">
            Ver demo →
          </button>
          <!-- Botón para página web -->
          <a *ngIf="project.linkWeb" [href]="project.linkWeb" target="_blank"
            class="mt-4 mx-6 text-purple-400 hover:text-white font-medium"> Visitar página →
          </a>
          <!-- Botón para GitHub -->
          <a *ngIf="project.link" [href]="project.link" target="_blank"
            class="mt-4 text-purple-400 hover:text-white font-medium">
            Github →
          </a>
        </div>
      </div>
    </div>
    }
  </section>

</section>